<section class="px-5 pb-28">
  <div class="mx-auto max-w-3xl text-center glass soft-shadow rounded-3xl p-10 md:p-14">
    <h2 class="text-4xl md:text-5xl font-semibold">BudeÅ¡ mojou ValentÃ­nkou?</h2>
    <p class="mt-4 opacity-80">Klikni Ãºprimne. Ale ja uÅ¾ aj tak tuÅ¡Ã­m odpoveÄ. ğŸ˜Œ</p>

    <div class="mt-10 flex items-center justify-center gap-4 relative">
      <button id="yesBtn"
        class="rounded-full px-7 py-3 bg-white/90 hover:bg-white transition soft-shadow text-lg font-medium">
        ÃNO ğŸ’—
      </button>

      <button id="noBtn"
        class="rounded-full px-6 py-3 bg-white/70 hover:bg-white/80 transition">
        Nieâ€¦
      </button>
    </div>

    <div id="afterYes" class="mt-10 hidden">
      <p class="text-2xl font-semibold">YES! ğŸ¥¹ğŸ’</p>
      <p class="mt-2 opacity-80">Tak teraz uÅ¾ len pusa a plÃ¡n na veÄer.</p>
    </div>
  </div>
</section>

<script>
  import confetti from "canvas-confetti";

  const yes = document.getElementById("yesBtn");
  const no = document.getElementById("noBtn");
  const after = document.getElementById("afterYes");

  yes?.addEventListener("click", () => {
    confetti({ particleCount: 120, spread: 70, origin: { y: 0.7 } });
    after?.classList.remove("hidden");
    no?.setAttribute("disabled", "true");
    no?.classList.add("opacity-40", "cursor-not-allowed");
  });

  // No button â€œutekÃ¡â€ (desktop) + â€œposÃºva saâ€ (mobile)
  const moveNo = () => {
    if (!no) return;
    const parent = no.parentElement;
    if (!parent) return;

    const rect = parent.getBoundingClientRect();
    const x = Math.random() * (rect.width - no.clientWidth);
    const y = Math.random() * 30; // jemne, nech to nevyzerÃ¡ jak bug

    no.style.position = "absolute";
    no.style.left = `${x}px`;
    no.style.top = `${y}px`;
  };

  no?.addEventListener("mouseenter", moveNo);
  no?.addEventListener("touchstart", (e) => {
    e.preventDefault();
    moveNo();
  }, { passive: false });
</script>
